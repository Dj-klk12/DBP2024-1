<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de CV Frank Calcina</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Formulario de CV</h1>
        <form id="registroForm">
            <div class="form-group">
                <label for="nombre_apellidos">Nombre y Apellidos:</label>
                <input type="text" id="nombre_apellidos" name="nombre_apellidos" required>
            </div>

            <div class="form-group">
                <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
                <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" required>
            </div>

            <div class="form-group">
                <label for="ocupacion">Ocupación:</label>
                <input type="text" id="ocupacion" name="ocupacion" required>
            </div>

            <div class="form-group">
                <label for="contacto">Contacto (Teléfono, Email):</label>
                <input type="text" id="contacto" name="contacto" required>
            </div>

            <div class="form-group">
                <label for="nacionalidad">Nacionalidad:</label>
                <select id="nacionalidad" name="nacionalidad">
                    <option value="selecciona">Selecciona</option>
                    <option value="Honduras">Honduras</option>
                    <option value="Guatemala">Guatemala</option>
                    <option value="Venezuela">Venezuela</option>
                    <option value="México">México</option>
                    <option value="Nicaragua">Nicaragua</option>
                    <option value="El Salvador">El Salvador</option>
                    <option value="Colombia">Colombia</option>
                    <option value="Bolivia">Bolivia</option>
                    <option value="Perú">Perú</option>
                    <option value="Ecuador">Ecuador</option>
                    <option value="Brasil">Brasil</option>
                    <option value="R. Domi.">R. Domi.</option>
                    <option value="Paraguay">Paraguay</option>
                    <option value="Panamá">Panamá</option>
                    <option value="Costa Rica">Costa Rica</option>
                    <option value="Argentina">Argentina</option>
                    <option value="Chile">Chile</option>
                    <option value="Uruguay">Uruguay</option>
                </select>
            </div>

            <div class="form-group">
                <label>Nivel de Inglés:</label>
                <div class="radio-group">
                    <label for="basico">Básico</label>
                    <input type="radio" id="basico" name="ingles" value="basico">
                    <label for="intermedio">Intermedio</label>
                    <input type="radio" id="intermedio" name="ingles" value="intermedio">
                    <label for="avanzado">Avanzado</label>
                    <input type="radio" id="avanzado" name="ingles" value="avanzado">
                    <label for="fluido">Fluido</label>
                    <input type="radio" id="fluido" name="ingles" value="fluido">
                </div>
            </div>

            <div class="form-group">
                <label for="lenguajes_programacion">Lenguajes de Programación:</label>
                <select id="lenguajes_programacion" name="lenguajes_programacion" multiple>
                    <option value="java">Java</option>
                    <option value="python">Python</option>
                    <option value="javascript">JavaScript</option>
                    <option value="csharp">C#</option>
                    <option value="cplusplus">C++</option>
                    <option value="php">PHP</option>
                    <option value="Pearl">Pearl</option>
                </select>
            </div>

            <div class="form-group">
                <label for="aptitudes">Aptitudes:</label>
                <input type="text" id="aptitudes" name="aptitudes" list="aptitudes_list">
                <datalist id="aptitudes_list">
                    <option value="Multilingüismo">
                    <option value="Organización">
                    <option value="Liderazgo">
                </datalist>
            </div>

            <div class="form-group">
                <label>Habilidades:</label>
                <div class="checkbox-group">
                    <label for="habilidad1">Trabajo en equipo</label>
                    <input type="checkbox" id="habilidad1" name="habilidades[]" value="Habilidad 1">
                    <label for="habilidad2">Pensamiento crítico</label>
                    <input type="checkbox" id="habilidad2" name="habilidades[]" value="Habilidad 2">
                    <label for="habilidad3">Orientación a resultados</label>
                    <input type="checkbox" id="habilidad3" name="habilidades[]" value="Habilidad 3">
                    <label for="habilidad3">Orden en el trabajo</label>
                    <input type="checkbox" id="habilidad4" name="habilidades[]" value="Habilidad 4">
                </div>
            </div>

            <div class="form-group">
                <label for="perfil">Perfil:</label>
                <textarea id="perfil" name="perfil" rows="4" cols="50"></textarea>
            </div>
        </form>
        <button onclick="guardarDatos()">Guardar Datos en .TXT</button>
        <button type="button" onclick="guardarYLimpiar()">Guardar y Llenar Otro Formulario</button>
        <button type="button" onclick="cargarDatos()">Cargar Datos Anteriores</button>
        </form>
    </div>
    <script>
        // Función para guardar datos en el almacenamiento local del navegador
        function guardarDatos() {
            var formulario = document.getElementById('registroForm');
            var datos = new FormData(formulario);
            var texto = '';

            for (var pair of datos.entries()) {
                texto += pair[0] + ': ' + pair[1] + '\n';
            }

            var blob = new Blob([texto], { type: 'text/plain' });
            var url = URL.createObjectURL(blob);

            var a = document.createElement('a');
            a.href = url;
            a.download = 'info_cv.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Función para guardar datos y limpiar el formulario
        function guardarYLimpiar() {
            guardarDatos(); // Guardar datos antes de limpiar el formulario

            var formulario = document.getElementById('registroForm');
            formulario.reset(); // Limpiar todos los campos del formulario
        }

        // Función para cargar datos del formulario anterior
        function cargarDatos() {
            var fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = 'text/plain';
            fileInput.onchange = function() {
                var file = fileInput.files[0];
                var reader = new FileReader();
                reader.onload = function(event) {
                    var contenido = event.target.result;
                    mostrarDatosEnFormulario(contenido);
                };
                reader.readAsText(file);
            };
            fileInput.click();
        }

        // Función para mostrar los datos del archivo en el formulario
        function mostrarDatosEnFormulario(contenido) {
            var lineas = contenido.split('\n');
            var formulario = document.getElementById('registroForm');
            for (var i = 0; i < lineas.length; i++) {
                var linea = lineas[i].trim();
                if (linea) {
                    var partes = linea.split(':');
                    var nombreCampo = partes[0].trim();
                    var valorCampo = partes.slice(1).join(':').trim(); // Por si hay ":" en el valor
                    var elemento = formulario.elements[nombreCampo];
                    if (elemento) {
                        if (elemento.type === 'radio' || elemento.type === 'checkbox') {
                            // Checkear el elemento si es un radio o checkbox
                            if (elemento.value === valorCampo) {
                                elemento.checked = true;
                            }
                        } else {
                            // Asignar el valor a otros tipos de elementos
                            elemento.value = valorCampo;
                        }
                    }
                }
            }
        }
    </script>
</body>
</html>
